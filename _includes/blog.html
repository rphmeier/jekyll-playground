{%- assign posts = paginator.posts | default: site.posts -%}
{%- assign num_posts = paginator.total_posts | default: 0 -%}
{% for post in posts %}
  <article class="post-preview">
    <div class="shadow-box">
      <div class="shadow-color"></div>
      <div class="shadow-overlay"></div>
      <div class="shadow-mask"></div>
    </div>

    {% include meta.html post=post preview=true %}
    {{ post.excerpt }}
    <div class="more"><a href="{{ post.url | relative_url }}"></a></div>
  </article>
{% endfor %}

{% if paginator.total_pages > 1 %}
  <footer>
    {% if paginator.previous_page %}<a href="{{ paginator.previous_page_path | relative_url }}">« newer posts</a>{% else %}<span></span>{% endif %}
    <span>page {{ paginator.page }} of {{ paginator.total_pages }}</span>
    {% if paginator.next_page %}<a href="{{ paginator.next_page_path | relative_url }}">older posts »</a>{% else %}<span></span>{% endif %}
  </footer>
{% endif %}
