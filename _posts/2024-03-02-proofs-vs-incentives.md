---
title: "ZK Aggregation Will Not Kill Cryptoeconomic Coprocessors"
layout: post
excerpt: "Floor and Ceiling Costs for Coprocessors"
twitter-image: ""
---

Last night I had the opportunity to speak at [NEBRA](https://www.nebra.one/)'s "Proof Singularity" event as part of a "heated debate" on the relative merits of programmable cryptography and programmable incentive systems - in the context of scaling blockchains. The panel was recorded, and while I recommend watching the video once it's live, I'll also lay out my arguments for the relative merits of cryptoeconomic coprocessors here.

Let's cut to the chase. I believe that the most likely future is one where cryptoeconomic coprocessors accumulate demand up to the level of price of ZK coprocessing, and all remaining demand spills over into ZK coprocessing.

Proof Aggregation is a technology so powerful that it can feel like it's bordering on magic. To briefly recap, it enables practically unlimited amounts of zero-knowledge proofs to be aggregated into a single small proof that can be extremely cheaply verified. When used in a blockchain context, this means that enormous amounts of computation can be proven and aggregated off-chain and a very small "receipt" of all of these computations can be posted to the blockchain to verify, while placing scarcely any load on the blockchain nodes themselves. Nifty.

It's worth taking a step back and anchoring this discussion in the main purposes of consensus systems. Consensus Systems exist primarily for the ongoing ordering of events. The job of a consensus algorithm is to choose from many possible valid orderings of events. The most famous version of this property is the Double-Spend Problem. While it would be valid for me to send my coins to either Alice or Bob, I cannot send them to both. The consensus protocol must choose one of these competing futures.

Proving gives us validity, but not consensus safety or liveness. Therefore it's clear that consensus systems must be involved in some way, and this doesn't seem to be in dispute. The level to which they will be involved, on the other hand, is in dispute. At one extreme we might imagine that the future of blockchain technology is simply to create a ledger of verified ZK-proofs. These proofs would be generated by a variety of ZK-Coprocessors: off-chain systems executing and proving large computations.

I think it's more likely to strike a balance, and the primary reason for that is cost. ZK Proving is expensive. [Wei Dai estimated a 6-order of magnitude difference in hardware cost](https://twitter.com/_weidai/status/1732436027388871100) to prove something versus execute it. I've arrived at a similar factor when comparing the stated cost-per-gas of [Polygon ZkEVM](https://twitter.com/eduadiez/status/1623723409115938820) with the raw hardware costs of validating computations on Polkadot. All this to say: for the foreseeable future, there are _margins_, and ZK's margins are cryptoeconomic's opportunity.

I'll write a bit about Polkadot here to establish where this margin lies, though it's not the focal point of this article. Polkadot provides a set of cryptoeconomic coprocessors we call cores. They can execute arbitrary WebAssembly, and soon RISC-V, code. Each core requires between 30-40 validators to execute each computation. This scales sub-linearly with the number of total validators. The hardware cost of executing a transaction on Polkadot is approximately the cost of renting a decent VPS for 6 seconds.

One of the primary economic differences between a ZK Coprocessor and a Crypto-Economic coprocessor is that a ZK Coprocessor has access to a substitutable good (any GPU in the world) and a cryptoeconomic coprocessor relies on a non-substitutable good (validator nodes' hardware). Consensus systems relying on non-substitutable validators to validate blocks is a huge pain point: it's why we have enormous fee spikes on Ethereum, and it's why systems like Solana have gone out of their way to build technologies local fee markets and serializable execution. 

Now, ZK coprocessors and cryptoeconomic ones are not identical in capabilities. ZK coprocessors are better at handling large quantities of data than cryptoeconomic coprocessors, which implies that cryptoeconomic coprocessors will be better for tasks that are computation-heavy rather than data-heavy. ZK can also provide privacy, and cryptoeconomic coprocessors have access to hash functions, data structures, memory layouts, and hardware advantages that ZK ones don't. They're not exactly the same.

I believe that ZK-proof aggregation establishes a (soft) price ceiling for cryptoeconomically validated computation. All else equal, why would someone want to pay _more_ to validate their computation on a cryptoeconomic coprocessor than a cryptographic one? But the margins are large. This to me, implies four relevant questions for the future of cryptoeconomic coprocessors:
  1. How well can cryptoeconomic coprocessors scale with more validator nodes?
  2. How low can cryptoeconomic coprocessors keep their hardware costs?
  3. How applicable is [Jevons' paradox](https://en.wikipedia.org/wiki/Jevons_paradox) to validated computation?

The answer to the first question will tell us how much demand for validated computation cryptoeconomic systems can absorb. The second tells us how efficient ZK proving has to get before the margin disappears. And the third tells us how likely it is for cheap processing power to be consumed by demand. This third is very important - one argument I anticipate to this post is that ZK coprocessors will simply be "cheap enough" and therefore users won't seek alternatives. But if Jevons' Paradox is applicable, the volumes of validated computation consumed by users will be large enough where these margins do matter. Or maybe they won't. Personally, I see Solana as a data point in favor of Jevons' paradox as applied to validated computation.

From this it's clear to me that, all else equal, cryptoeconomic coprocessors will establish a price floor for ZK coprocessing. Cryptoeconomic pricing is much more sensitive to demand as a result of relying on validators (non-substitutable goods), and so can't undercut ZK in the face of unlimited demand, but will always at least break even until ZK is not notably cheaper, which seems quite unlikely.
