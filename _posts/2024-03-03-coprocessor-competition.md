---
title: "Coprocessor Competition: Cryptoeconomic vs ZK"
layout: post
excerpt: "Cost differentials create opportunity"
twitter-image: ""
---

![](/assets/images/proofs_vs_incentives/PriceElasticity.svg)

Last night I had the opportunity to speak at [NEBRA](https://www.nebra.one/)'s "Proof Singularity" event as part of a "heated debate" (actually, it was very friendly) on the relative merits of programmable cryptography and programmable incentive systems - in the context of scaling blockchains. The panel was recorded, and while I recommend watching the video once it's live, I'll also lay out my arguments for the relative merits of cryptoeconomic coprocessors in more detail here.

Our discussion is largely about **coprocessors**, which are a category of systems that can perform computations off-chain while proving or otherwise guaranteeing their results on-chain. A ZK coprocessor is one which uses Zero-Knowledge techniques to produce succintly verifiable cryptographic proofs of computations. A cryptoeconomic coprocessor is one which uses value-at-stake and an interactive protocol to provide strong guarantees of a computation's correctness.

I'll insert a brief detour to address the point that ZK coprocessors and cryptoeconomic ones are not identical in capabilities. This is true. Despite that, they are substitutable for many use-cases. ZK coprocessors are better at handling large quantities of data than cryptoeconomic coprocessors, which implies that cryptoeconomic coprocessors will be better for tasks that are relatively computation-heavy rather than data-heavy. ZK, notably, can also provide user privacy. On the other hand, cryptoeconomic coprocessors have access to hash functions, data structures, memory layouts, and hardware advantages that ZK ones don't. They're not exactly the same, and so they are only partially-substitutable.

Let's cut to the chase. I believe that the most likely future is one where cryptoeconomic coprocessors are used up to the level of price of ZK coprocessing, and all remaining demand spills over into ZK coprocessing. Cryptoeconomic coprocessors are lower cost, but also much more price-elastic than ZK. The reason for this price elasticity is that they rely on a set of validator nodes, a non-substitutable good. The open questions are just about how much demand it takes to saturate cryptoeconomic coprocessors.

Proof Aggregation is a technology so powerful that it can feel like it's bordering on magic. To briefly recap, it enables practically unlimited amounts of zero-knowledge proofs to be aggregated into a single small proof that can be extremely cheaply verified. When used in a blockchain context, this means that enormous amounts of computation can be proven and aggregated off-chain and a very small "receipt" of all of these computations can be posted to the blockchain to verify, while placing scarcely any load on the blockchain nodes themselves. Nifty.

It's worth taking a step back and anchoring this discussion in the main purposes of consensus systems. Consensus systems exist primarily for the ongoing ordering of events. The job of a consensus algorithm is to choose from many possible valid orderings of events. The most famous version of this property is the Double-Spend Problem. While it would be valid for me to send my coins to either Alice or Bob, I cannot send them to both. The consensus protocol must choose one of these competing futures if I try to double-spend.

Proving gives us validity, but not consensus safety or liveness. Therefore it's clear that consensus systems must be involved in some way, and this doesn't seem to be in dispute. The level to which they will be involved, on the other hand, is in dispute. At one extreme we might imagine that the future of blockchain technology is simply to create a ledger of verified ZK-proofs. These proofs would be generated by a variety of ZK Coprocessors and then aggregated up into a singular or small number of proofs which encompass all of their constituent proofs. I'll also note here that the utility of aggregation is somewhat undermined by the desire of block-builders to reorder transactions for profit and capital efficiency. I digress... 

The economics point to a more likely outcome being a balance between the two categories of coprocessors. The primary reason for that is the cost differential of the two. ZK Proving is expensive. [Wei Dai estimated a 6-order-of-magnitude difference in hardware cost](https://twitter.com/_weidai/status/1732436027388871100) to prove something versus executing it. I've arrived at a similar factor when comparing the [stated cost-per-gas of Polygon ZkEVM](https://twitter.com/eduadiez/status/1623723409115938820) with the raw hardware costs of validating computations on Polkadot. All this to say: for the foreseeable future, there are _serious cost differentials_, and ZK's costs are cryptoeconomic coprocessors' opportunity.

I'll write a bit about Polkadot here to establish where this cost differential lies, though Polkadot is not the focal point of this article. Polkadot provides a set of cryptoeconomic coprocessors we call cores. They can execute arbitrary WebAssembly, and soon RISC-V, code. Each core requires between 30-40 validators to execute each computation. This scales sub-linearly with the number of total validators. The hardware cost of processing a computation on Polkadot can be slightly overestimated with the cost of renting 30-40 decent single-cpu VPSs for 6 seconds.

One of the primary economic differences between a ZK coprocessor and a cryptoeconomic coprocessor is that a ZK coprocessor has access to a substitutable good (any GPU in the world) and a cryptoeconomic coprocessor relies on a non-substitutable good (validator nodes' hardware). Consensus systems relying on non-substitutable validators to validate blocks is a huge pain point: it makes those validators a potential bottleneck for the system, with fee spikes ensuing during periods of high demand. ZK coprocessors, on the other hand, can simply add more GPUs with near-zero price impact.

The effect that I expect to see is that ZK-proof aggregation establishes a (soft) price ceiling for cryptoeconomically validated computation. All else equal, why would someone want to pay _more_ to validate their computation on a cryptoeconomic coprocessor than a cryptographic one? There are some reasons, like state locality and liquidity, that I'll put aside for now. Despite this price ceiling, the potential margins for cryptoeconomically validated computation are very large. This implies three relevant questions for the future of cryptoeconomic coprocessors:
  1. How well can cryptoeconomic coprocessors scale with more validator nodes?
  2. How low can cryptoeconomic coprocessors keep their hardware costs?
  3. How applicable is [Jevons' paradox](https://en.wikipedia.org/wiki/Jevons_paradox) to validated computation?

The answer to the first question will tell us how price elastic validated computation cryptoeconomic systems are and how much demand they can absorb. The second tells us how efficient ZK proving has to get before the cost differential disappears. And the third tells us how likely it is for abundant cheap computational power to be consumed by demand. This third is very important - one argument I anticipate to this post is that ZK coprocessors will simply be "cheap enough" and therefore users won't seek alternatives. But if Jevons' paradox is applicable, the volumes of validated computation consumed by users will be large enough where these margins do matter. We can only speculate. Personally, I see Solana as a point in favor of Jevons' paradox as applied to validated computation.

From this it's clear to me that, all else equal, cryptoeconomic coprocessors will be able to undercut ZK coprocessors for the foreseeable future. Beecause cryptoeconomic coprocessor pricing is much more sensitive to demand, it can't undercut ZK in beyond some equilibirum point. They will always at least break even on cost until ZK is not notably more expensive. That seems unlikely in the long run, though it might get to a few orders of magnitude in time. For the moment, cryptoeconomic coprocessors can charge a six order of magnitude margin before hitting the ZK price ceiling.
